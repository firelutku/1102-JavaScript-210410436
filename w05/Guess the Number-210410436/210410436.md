####è¦æ±‚ JavaScript ä½¿ç”¨æ¯”è¼ƒåš´è¬¹çš„æ–¹å¼æª¢æŸ¥ç¨‹å¼ç¢¼

'use strict';

####å®£å‘Šå°æ‡‰ç›¸é—œ class çš„è®Šæ•¸

const messageLabel = document.querySelector(".message");
const inputLabel=document.querySelector(".guess");
const againBtn=document.querySelector(".again");
const checkBtn=document.querySelector(".check");
const scoreLabel=document.querySelector(".score");
const highScoreLabel=document.querySelector(".highscore");
const numberLabel=document.querySelector(".number");

####å®£å‘Šå¯è®Šå‹•æ•¸å€¼ä¹‹è®Šæ•¸

let numbers=0;
let score=20;
let highscore=0;

####è®€å–æœ€é«˜åˆ†æ•¸ä¸¦é¡¯ç¤ºå‡ºä¾†

showHighScore();

####éš¨æ©Ÿç”¢ç”Ÿ 1~20 ä¹‹é–“çš„æ•´æ•¸ï¼Œä¸¦å›å‚³è©²æ•´æ•¸

function randomNumberGenerate(){
return Math.floor(Math.random()\*20)+1;
}

####å°‡éš¨æ©Ÿç”¢ç”Ÿçš„ 1~20 ä¹‹é–“çš„æ•´æ•¸ï¼Œè¨­å®šçµ¦è®Šæ•¸ answer

let answer=randomNumberGenerate();

####æª¢æŸ¥æ‰€è¼¸å…¥çš„æ•´æ•¸æ˜¯å¦ä»‹æ–¼ 1~20 ä¹‹é–“ï¼Œä¸¦ä¸”æ¯”è¼ƒå’Œè®Šæ•¸ answer çš„é—œä¿‚

function checkTextbox(element){
numbers = element.value;
if(numbers < 1 || numbers>20){
messageLabel.innerHTML = "Enter a number between 1 and 20";
}else{
if(numbers<answer){
messageLabel.innerHTML = "Too Low";
score--;
scoreLabel.innerHTML = score;
}else if(numbers>answer){
messageLabel.innerHTML = "Too High";
score--;
scoreLabel.innerHTML = score;
}else if(score==0){
messageLabel.innerHTML = "Game Over";
checkBtn.disabled = true;
againBtn.disabled = false;
}else if(numbers==answer){
let body = document.querySelector('body');
body.style.backgroundColor = "green";
numberLabel.innerHTML = answer;
messageLabel.innerHTML = "ğŸ†ğŸš€Correct Number!";
checkBtn.disabled = true;
againBtn.disabled = false;
scoreLabel.innerHTML = score;
checkHighScore(score);

        }
    }

}

####è¨­å®šé‡æ–°é–‹å§‹æŒ‰éµçš„å‡½å¼

againBtn.addEventListener("click",()=>{
let body = document.querySelector('body');
body.style.backgroundColor = "#222";
answer=randomNumberGenerate();
checkBtn.disabled=false;
againBtn.disabled=true;
numberLabel.innerHTML="?";
messageLabel.innerHTML = "Start guessing...";
inputLabel.value="";
score=20;
scoreLabel.innerHTML = score;
});

####å„²å­˜æœ€é«˜åˆ†æ•¸

function saveHighScore(score){
localStorage.setItem("highscore",score);
}

####å¦‚æœç›®å‰çš„åˆ†æ•¸é«˜æ–¼æœ€é«˜åˆ†æ•¸ï¼Œé‚£éº¼å°±å°‡ç›®å‰çš„åˆ†æ•¸è¨­å®šç‚ºæœ€é«˜åˆ†æ•¸ï¼Œä¸¦ä¸”å³æ™‚é¡¯ç¤ºå‡ºä¾†

function checkHighScore(score){
const highScore=JSON.parse(localStorage.getItem("highscore"));
if(score > highScore){
saveHighScore(score);
showHighScore();
}
}

####å°‡æœ€é«˜åˆ†æ•¸é¡¯ç¤ºå‡ºä¾†

function showHighScore(){
const highScore=localStorage.getItem("highscore");
if(highScore==null){
highScoreLabel.innerHTML=0;
}else{
highScoreLabel.innerHTML=highScore;
}
}

####é€™æ¬¡çš„ä½œæ¥­å‰›é–‹å§‹æ²’æœ‰çœŸæ­£ææ¸…æ¥šè€å¸«å°æ–¼åˆ†æ•¸è·Ÿæœ€é«˜åˆ†æ•¸æ‰€è¦æ±‚çš„éŠæˆ²è¦å‰‡ï¼Œæ‰€ä»¥åŸä¾†çš„ç¨‹å¼å¯«æ³•æ˜¯ç›´æ¥æŠŠåˆå§‹åˆ†æ•¸ score è¨­å®šç‚º 0ï¼Œé€™å€‹é€±å…­ä»”ç´°çœ‹éè€å¸«çš„åœ–è§£å¾Œï¼Œå°±ç«‹å³æ›´æ­£ï¼Œç„¶å¾ŒæŠŠåˆå§‹åˆ†æ•¸ score è¨­å®šç‚º 20ï¼Œæ¥è‘—å†æ”¹å¯«ä¸€ä¸‹ç¨‹å¼ç¢¼ï¼Œçµ‚æ–¼å®Œæˆè·Ÿè€å¸«è¦æ±‚çš„ä¸€æ¨¡ä¸€æ¨£çš„å®Œæ•´åŠŸèƒ½ã€‚

####é€™æ¬¡çš„ä½œæ¥­ï¼Œé‡åˆ°æ¯”è¼ƒé ­ç—›çš„å•é¡Œæ˜¯ä¸çŸ¥é“è©²å¦‚ä½•æŠ“å–å°åœ–å¼ï¼Œé›–ç„¶æœ‰ä¸Šç¶²æ‰¾åˆ°ç­”æ¡ˆï¼Œä¸éè€å¸«å¾Œä¾†å‘Šè¨´æˆ‘çš„ windows å¿«æ·éµåˆæ›´æ–¹ä¾¿äº†ã€‚
